<!DOCTYPE html>
<html>

<head>
    <title>Neurocl training data</title>
    <script type="text/javascript" src="jquery-1.11.1.min.js"></script>
    <script type="text/javascript" src="canvasjs.min.js"></script>
    <script type="text/javascript">
        window.onload = function() {
            var dataPoints = [];

            function getDataPointsFromCSV(csv) {
                var dataPointsArray = [
                    [],
                    []
                ];
                var csvLines = points = [];
                csvLines = csv.split(/[\r?\n|\r|\n]+/);

                for (var i = 0; i < csvLines.length; i++)
                    if (csvLines[i].length > 0) {
                        points = csvLines[i].split(",");
                        dataPointsArray[0].push({
                            x: parseFloat(points[0]),
                            y: parseFloat(points[1])
                        });
                        dataPointsArray[1].push({
                            x: parseFloat(points[0]),
                            y: parseFloat(points[2])
                        });
                    }
                return dataPointsArray;
            }

            $.get("http://192.168.0.1:8080/bin/mnist_training.csv", function(data) {

                dataPointsArray = getDataPointsFromCSV(data);

                var chart = new CanvasJS.Chart("chartContainer", {
                    title: {
                        text: "Neurocl training data",
                    },
                    axisX: {
                        title: "EPOCHS",
                    },
                    axisY: {
                        title: "SCORE %",
                    },
                    data: [{
                        type: "line",
                        dataPoints: dataPointsArray[0]
                    }, {
                        type: "line",
                        dataPoints: dataPointsArray[1]
                    }]
                });

                chart.render();
                //setTimeout(function(){updateChart()}, 1000);
            });
        }
    </script>
</head>

<body>
    <div id="chartContainer" style="width:100%; height:500px;"></div>
</body>

</html>
